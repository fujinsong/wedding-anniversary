<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我们的故事 - 结婚4周年纪念日</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-color: #fafafa;
            --accent-color: #d4af37;
            --accent-light: #f5e8d0;
            --white: #ffffff;
            --text-dark: #333333;
            --text-light: #666666;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 主容器 */
        .gallery-container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
        }

        /* 左侧时间轴导航 */
        .timeline-nav {
            width: 260px;
            background: var(--white);
            padding: 40px 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 10;
        }

        .nav-title {
            font-size: 28px;
            color: var(--accent-color);
            text-align: center;
            margin-bottom: 20px;
            font-family: Georgia, serif;
            font-weight: 300;
        }

        .year-button {
            padding: 20px 30px;
            background: var(--white);
            border: 2px solid var(--accent-color);
            border-radius: 50px;
            cursor: pointer;
            font-size: 18px;
            color: var(--text-dark);
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(212, 175, 55, 0.2);
            text-align: center;
        }

        .year-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .year-button.active {
            background: var(--accent-light);
            color: var(--accent-color);
            font-weight: bold;
        }

        /* 右侧内容区 */
        .content-area {
            margin-left: 260px;
            flex: 1;
            padding: 40px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* 照片轮播区 */
        .carousel-section {
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            min-height: 400px;
            max-height: 70vh;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 比例 */
        }

        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1s ease-in-out;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
        }

        .carousel-slide.active {
            opacity: 1;
        }

        .carousel-image {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            object-position: center;
            border-radius: 12px;
            transition: all 0.5s ease;
        }

        /* 横向图片 - 填满容器 */
        .carousel-image.landscape {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center center;
        }

        /* 纵向图片 - 完整显示，两边留白 */
        .carousel-image.portrait {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            object-position: center center;
            background: linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%);
        }

        /* 方形图片 - 填满容器 */
        .carousel-image.square {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 超宽图片 - 完整显示，上下留白 */
        .carousel-image.panorama {
            width: 100%;
            height: auto;
            object-fit: contain;
            object-position: center center;
            background: linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%);
        }

        .carousel-image:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        /* 心形容器 */
        .heart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        /* 跳动的心 */
        .heart {
            position: relative;
            width: 200px;
            height: 200px;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        .heart:before,
        .heart:after {
            position: absolute;
            content: "";
            left: 100px;
            top: 0;
            width: 100px;
            height: 160px;
            background: #ff1744; /* 红色爱心 */
            border-radius: 100px 100px 0 0;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .heart:after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            25% {
                transform: scale(1.1);
            }
            50% {
                transform: scale(1);
            }
            75% {
                transform: scale(1.15);
            }
            100% {
                transform: scale(1);
            }
        }

        /* 轮播指示器 */
        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 2;
            padding: 0 10px;
        }

        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .indicator:hover {
            background: rgba(255, 255, 255, 0.8);
        }

        .indicator.active {
            background: var(--accent-color);
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        /* 动态文字区 */
        .text-section {
            background: var(--white);
            border-radius: 12px;
            padding: 40px;
            box-shadow: var(--shadow);
            min-height: 200px;
            position: relative;
            overflow: hidden;
        }

        .text-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .text-content.active {
            opacity: 1;
            transform: translateY(0);
        }

        .text-content.fade-out {
            animation: fadeOutUp 0.5s ease forwards;
        }

        .text-content.fade-in {
            animation: fadeInUp 0.5s ease forwards;
        }

        @keyframes fadeOutUp {
            0% {
                opacity: 1;
                transform: translateY(0);
            }
            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .text-title {
            font-size: 32px;
            color: var(--accent-color);
            margin-bottom: 20px;
            font-family: Georgia, serif;
        }

        .text-description {
            font-size: 18px;
            color: var(--text-light);
            line-height: 1.8;
        }

        /* 响应式设计 */
        @media (max-width: 1024px) {
            .gallery-container {
                max-width: 100%;
            }

            .timeline-nav {
                width: 220px;
            }

            .content-area {
                margin-left: 220px;
                padding: 30px;
            }
        }

        @media (max-width: 768px) {
            .gallery-container {
                flex-direction: column;
            }

            .timeline-nav {
                width: 100%;
                height: auto;
                position: fixed;
                top: 0;
                left: 0;
                padding: 15px 20px;
                flex-direction: column;
                gap: 10px;
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                z-index: 100;
                max-height: 40vh;
                overflow-y: auto;
            }

            .nav-title {
                font-size: 20px;
                margin-bottom: 10px;
            }

            .year-button {
                padding: 12px 20px;
                font-size: 14px;
                width: 100%;
                margin: 2px 0;
            }

            .content-area {
                margin-left: 0;
                padding: 80px 15px 20px;
                min-height: 100vh;
            }

            .carousel-section {
                min-height: 250px;
                max-height: 60vh;
                border-radius: 8px;
            }

            .carousel-container {
                padding-bottom: 75%; /* 4:3 比例更适合手机 */
            }

            .text-section {
                padding: 20px;
                border-radius: 8px;
            }

            .text-title {
                font-size: 24px;
                margin-bottom: 15px;
            }

            .text-description {
                font-size: 15px;
                line-height: 1.6;
            }
        }

        @media (max-width: 480px) {
            .timeline-nav {
                padding: 10px 15px;
            }

            .nav-title {
                font-size: 18px;
            }

            .year-button {
                padding: 10px 15px;
                font-size: 13px;
            }

            .content-area {
                padding: 70px 10px 15px;
            }

            .text-title {
                font-size: 22px;
            }

            .text-description {
                font-size: 14px;
            }

            /* 心形动画尺寸调整 */
            .heart {
                width: 150px;
                height: 150px;
            }

            .heart:before,
            .heart:after {
                left: 75px;
                top: 0;
                width: 75px;
                height: 120px;
                border-radius: 75px 75px 0 0;
            }
        }

        /* 横屏手机适配 */
        @media (max-height: 500px) and (orientation: landscape) {
            .timeline-nav {
                max-height: 70vh;
            }

            .content-area {
                padding: 60px 15px 15px;
            }

            .carousel-section {
                min-height: 200px;
                max-height: 50vh;
            }

            .carousel-indicators {
                bottom: 15px;
            }
        }

        /* 移动端轮播指示器优化 */
        @media (max-width: 768px) {
            .carousel-indicators {
                bottom: 15px;
                gap: 8px;
            }

            .indicator {
                width: 8px;
                height: 8px;
            }

            .indicator.active {
                width: 12px;
                height: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="gallery-container">
        <!-- 左侧时间轴导航 -->
        <nav class="timeline-nav">
            <h1 class="nav-title">我们的故事</h1>
            <button class="year-button active" data-year="第一年">第一年</button>
            <button class="year-button" data-year="第二年">第二年</button>
            <button class="year-button" data-year="第三年">第三年</button>
            <button class="year-button" data-year="第四年">第四年</button>
            <button class="year-button" data-year="以后...">以后...</button>
        </nav>

        <!-- 右侧内容区 -->
        <div class="content-area">
            <!-- 照片轮播区 -->
            <section class="carousel-section">
                <div class="carousel-container" id="carouselContainer">
                    <!-- 轮播内容将通过JavaScript动态生成 -->
                </div>
                <div class="carousel-indicators" id="carouselIndicators">
                    <!-- 指示器将通过JavaScript动态生成 -->
                </div>
            </section>

            <!-- 动态文字区 -->
            <section class="text-section">
                <div id="textContent">
                    <!-- 文字内容将通过JavaScript动态生成 -->
                </div>
            </section>
        </div>
    </div>

    <script>
        // 纪念数据结构 - 使用本地图片
        const memoryData = {
            "第一年": [
                {
                    imgUrl: "images/year1/01.jpg",
                    title: "领证的日子",
                    desc: "2021年12月11日，我们领证了，最终，我娶了十八岁时我偷亲的那个人。"
                },
                {
                    imgUrl: "images/year1/02.jpg",
                    title: "西式结婚照",
                    desc: "10月份的时候，我们去拍了这组婚纱照，那天的天气很冷，摄影师也很业余。",
                    ratio: "portrait"  // 手动指定为纵向照片，确保完整显示
                },
                {
                    imgUrl: "images/year1/03.jpg",
                    title: "中式结婚照",
                    desc: "虽然摄影师不太专业，但是我们也在努力配合着，这个动作还是不错的。"
                },
                {
                    imgUrl: "images/year1/04.jpg",
                    title: "舞台上的回眸",
                    desc: "我从爸爸手中结果你的手，扶着你，缓缓走向舞台的中央，快要到了的时候，我们一起回头看。"
                }
            ],
            "第二年": [
                {
                    imgUrl: "images/year2/01.jpg",
                    title: "海马体自拍-女主角",
                    desc: "2022年12月5日，我们一起去海马体拍圣诞节的写真，你画好了妆之后的自拍。"
                },
                {
                    imgUrl: "images/year2/02.jpg",
                    title: "海马体自拍-男主角",
                    desc: "男生果然都是附属品，简简单单画个眉，涂点粉底液，拍点粉，就完事儿了。"
                },
                {
                    imgUrl: "images/year2/03.jpg",
                    title: "Happy Christmas",
                    desc: "写真的成片出来了，我很喜欢这张，比之前的结婚照好看多了，事实证明，大成都的摄影技术就是比乡下的好。"
                },
                {
                    imgUrl: "images/year2/04.jpg",
                    title: "圣诞快乐",
                    desc: "这是我喜欢的另外一张，两个人脸上都洋溢着幸福的笑容。"
                }
            ],
            "第三年": [
                {
                    imgUrl: "images/year3/01.jpg",
                    title: "接你下班",
                    desc: "2023年6月4日，我们提车了，虽然不是你喜欢的SUV，但是这是我们第一辆车，开车来接你下班的时候拍的。"
                },
                {
                    imgUrl: "images/year3/02.jpg",
                    title: "等coffee时的自拍",
                    desc: "天气难得的好，又开车去兴隆湖闲逛，在你们公司楼下等咖啡制作的自拍。"
                },
                {
                    imgUrl: "images/year3/03.jpg",
                    title: "毕棚沟游记",
                    desc: "又是一年冬天，第一次去雪这么多的地方，玩了一天，拍了很多照片，虽然不咋好看，也很开心。"
                },
                {
                    imgUrl: "images/year3/04.jpg",
                    title: "理财小能手",
                    desc: "今年的结婚纪念日，买了一个金戒指给你，现在看来，不得不佩服你的理财眼光，现在金子可太贵了。"
                }
            ],
            "以后...": [
                {
                    title: "未完待续",
                    desc: "未来的路还很长，我们要一起慢慢的走下去，我爱你老婆。未完待续...",
                    isHeart: true  // 特殊标记，显示跳动的心
                }
            ],
            "第四年": [
                {
                    imgUrl: "images/year4/01.jpg",
                    title: "买房",
                    desc: "后面，你怀孕了，我们即将迎来我们的宝宝，看房了很多次之后，终于结束了以前租房的日子。"
                },
                {
                    imgUrl: "images/year4/02.jpg",
                    title: "特别的生日",
                    desc: "看到这个特别版本的生日蛋糕的时候，我很惊喜，特别开心和感动，谢谢你这么用心。",
                    ratio: "portrait"  // 手动指定为纵向照片，确保完整显示
                },
                {
                    imgUrl: "images/year4/03.jpg",
                    title: "孕妇照",
                    desc: "在我们的宝宝出生之前，我们去拍了一组孕妇照写真，是在一栋别墅里拍的，摄影师很专业，拍的很好看。"
                },
                {
                    imgUrl: "images/year4/04.jpg",
                    title: "妳们",
                    desc: "今年，我们的女儿出生了，从此，在我心里，妳变成了妳们，多了一份爱与责任。",
                    ratio: "portrait"  // 手动指定为纵向照片，确保完整显示
                }
            ]
        };

        // 画廊类
        class AnniversaryGallery {
            constructor() {
                this.currentYear = '第一年';
                this.currentPhotoIndex = 0;
                this.autoPlayInterval = null;
                this.touchStartX = 0;
                this.touchEndX = 0;
                this.touchStartY = 0;
                this.touchEndY = 0;
                this.init();
            }

            init() {
                this.bindEvents();
                this.loadYear(this.currentYear);
            }

            bindEvents() {
                // 年份按钮点击事件
                document.querySelectorAll('.year-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const year = e.target.dataset.year;
                        this.switchYear(year);
                    });
                });

                // 添加触摸事件支持
                this.bindTouchEvents();
            }

            bindTouchEvents() {
                const carouselContainer = document.getElementById('carouselContainer');

                // 触摸开始
                carouselContainer.addEventListener('touchstart', (e) => {
                    this.touchStartX = e.changedTouches[0].screenX;
                    this.touchStartY = e.changedTouches[0].screenY;
                    this.stopAutoPlay();
                }, { passive: true });

                // 触摸结束
                carouselContainer.addEventListener('touchend', (e) => {
                    this.touchEndX = e.changedTouches[0].screenX;
                    this.touchEndY = e.changedTouches[0].screenY;
                    this.handleSwipe();
                    this.startAutoPlay();
                }, { passive: true });

                // 阻止触摸时的默认滚动行为（仅在轮播容器内）
                carouselContainer.addEventListener('touchmove', (e) => {
                    const touchX = e.changedTouches[0].screenX;
                    const touchY = e.changedTouches[0].screenY;
                    const diffX = Math.abs(touchX - this.touchStartX);
                    const diffY = Math.abs(touchY - this.touchStartY);

                    // 如果水平滑动距离大于垂直滑动距离，阻止滚动
                    if (diffX > diffY) {
                        e.preventDefault();
                    }
                }, { passive: false });
            }

            handleSwipe() {
                const swipeThreshold = 50; // 最小滑动距离
                const diffX = this.touchEndX - this.touchStartX;
                const diffY = this.touchEndY - this.touchStartY;

                // 确保是水平滑动而不是垂直滑动
                if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > swipeThreshold) {
                    if (diffX > 0) {
                        // 向右滑动 - 显示上一张
                        this.previousPhoto();
                    } else {
                        // 向左滑动 - 显示下一张
                        this.nextPhoto();
                    }
                }
            }

            switchYear(year) {
                // 更新按钮状态
                document.querySelectorAll('.year-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-year="${year}"]`).classList.add('active');

                // 更新当前年份
                this.currentYear = year;
                this.currentPhotoIndex = 0;

                // 加载新年份的内容
                this.loadYear(year);
            }

            loadYear(year) {
                const photos = memoryData[year];

                // 清除自动播放
                this.stopAutoPlay();

                // 加载照片轮播
                this.loadCarousel(photos);

                // 加载对应的文字
                this.loadText(photos[0]);

                // 重新开始自动播放
                this.startAutoPlay();
            }

            loadCarousel(photos) {
                const container = document.getElementById('carouselContainer');
                const indicators = document.getElementById('carouselIndicators');

                // 清空现有内容
                container.innerHTML = '';
                indicators.innerHTML = '';

                // 创建轮播项
                photos.forEach((photo, index) => {
                    // 创建图片容器
                    const slide = document.createElement('div');
                    slide.className = `carousel-slide ${index === 0 ? 'active' : ''}`;

                    // 检查是否是特殊的心形项目
                    if (photo.isHeart) {
                        // 创建心形容器
                        const heartContainer = document.createElement('div');
                        heartContainer.className = 'heart-container';

                        const heart = document.createElement('div');
                        heart.className = 'heart';

                        heartContainer.appendChild(heart);
                        slide.appendChild(heartContainer);

                        // 不创建指示器，因为只有一张
                        indicators.style.display = 'none';
                    } else {
                        // 创建图片元素
                        const img = document.createElement('img');
                        img.alt = photo.title;
                        img.className = 'carousel-image';

                        // 加载图片并检测比例
                        img.onload = () => {
                            console.log('图片加载成功:', photo.imgUrl, '尺寸:', img.naturalWidth + 'x' + img.naturalHeight);
                            this.adjustImageByRatio(img, photo.ratio);
                        };

                        // 处理加载错误
                        img.onerror = () => {
                            console.error('图片加载失败:', photo.imgUrl);
                            // 尝试使用绝对路径
                            const fullPath = window.location.href.substring(0, window.location.href.lastIndexOf('/') + 1) + photo.imgUrl;
                            console.log('尝试新路径:', fullPath);

                            // 创建新的图片元素重试
                            const retryImg = new Image();
                            retryImg.onload = () => {
                                img.src = fullPath;
                                this.adjustImageByRatio(img, photo.ratio);
                            };
                            retryImg.onerror = () => {
                                img.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjVmNWY1Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIyNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPueCueWHu+iupOivgeaciTwvdGV4dD48L3N2Zz4=';
                                img.style.objectFit = 'none';
                            };
                            retryImg.src = fullPath;
                        };

                        img.src = photo.imgUrl;
                        slide.appendChild(img);

                        // 显示指示器
                        indicators.style.display = 'flex';

                        // 创建指示器
                        const indicator = document.createElement('div');
                        indicator.className = `indicator ${index === 0 ? 'active' : ''}`;
                        indicator.addEventListener('click', () => {
                            this.goToPhoto(index);
                        });
                        indicators.appendChild(indicator);
                    }

                    container.appendChild(slide);
                });
            }

            // 根据图片比例调整显示模式
            adjustImageByRatio(img, manualRatio = null) {
                // 清除之前的类
                img.classList.remove('landscape', 'portrait', 'square', 'panorama');

                // 如果手动指定了比例类型，优先使用
                if (manualRatio && ['landscape', 'portrait', 'square', 'panorama'].includes(manualRatio)) {
                    img.classList.add(manualRatio);
                    if (manualRatio === 'portrait') {
                        // 为纵向图片添加特殊背景
                        img.style.background = 'linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%)';
                    }
                    return;
                }

                // 否则自动检测
                const ratio = img.naturalWidth / img.naturalHeight;
                console.log('图片比例检测:', img.src, '比例:', ratio.toFixed(2));

                // 根据比例添加对应的类
                if (ratio < 0.85) {
                    // 纵向图片（高度明显大于宽度）
                    img.classList.add('portrait');
                    img.style.background = 'linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%)';
                } else if (ratio >= 0.85 && ratio <= 1.15) {
                    // 方形图片
                    img.classList.add('square');
                } else if (ratio > 1.15 && ratio <= 2.0) {
                    // 标准横向图片
                    img.classList.add('landscape');
                } else {
                    // 超宽图片（如全景图）
                    img.classList.add('panorama');
                    img.style.background = 'linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%)';
                }
            }

            loadText(photoData) {
                const textContent = document.getElementById('textContent');

                // 清空内容
                textContent.innerHTML = '';

                // 创建新内容
                const newContent = document.createElement('div');
                newContent.className = 'text-content active';
                newContent.innerHTML = `
                    <h2 class="text-title">${photoData.title}</h2>
                    <p class="text-description">${photoData.desc}</p>
                `;

                textContent.appendChild(newContent);
            }

            goToPhoto(index) {
                const photos = memoryData[this.currentYear];
                const slides = document.querySelectorAll('.carousel-slide');
                const indicators = document.querySelectorAll('.indicator');

                // 更新当前索引
                this.currentPhotoIndex = index;

                // 更新轮播显示
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });

                indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === index);
                });

                // 更新文字内容
                this.loadText(photos[index]);

                // 重启自动播放
                this.stopAutoPlay();
                this.startAutoPlay();
            }

            nextPhoto() {
                const photos = memoryData[this.currentYear];
                const nextIndex = (this.currentPhotoIndex + 1) % photos.length;
                this.goToPhoto(nextIndex);
            }

            previousPhoto() {
                const photos = memoryData[this.currentYear];
                const prevIndex = (this.currentPhotoIndex - 1 + photos.length) % photos.length;
                this.goToPhoto(prevIndex);
            }

            startAutoPlay() {
                this.autoPlayInterval = setInterval(() => {
                    this.nextPhoto();
                }, 5000);
            }

            stopAutoPlay() {
                if (this.autoPlayInterval) {
                    clearInterval(this.autoPlayInterval);
                    this.autoPlayInterval = null;
                }
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 延迟一点时间确保所有元素都已渲染
            setTimeout(() => {
                new AnniversaryGallery();
            }, 100);
        });
    </script>
</body>
</html>